<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play 🟢</title>
  <style>
    body {
      padding: 0;
      margin: 0;
    }
    .main-search{
      font-size: 3em;
    }
    input.main-search{
      width: 100vw;
    }
    article{
      display: grid;
      grid-template-rows: 1fr 500px 1fr;
      grid-template-rows: 1fr 500px 1fr;
    }
  </style>
  <script src="p5.js"></script>
  <!-- <script src="../addons/p5.sound.js"></script> -->
  <script src="sketch.js"></script>
</head>

<body>

  <header>
    <h1 id="header">🚦🔴 🟢 🟡 🟠</h1>
  </header>
  <main>
   
      
        <input type="text" class="main-search" id="userInput" placeholder="Enter any Keyword 💎">
        <input type="text" class="main-search" id="userResult" placeholder="Number of Results 🏴">
 
        <button class="main-search" type="submit" onclick="(new setup()).gettingVideo()">Go🏌️‍♀️</button>
     
    <section id="result">
📹
    </section>
<article id="video">

</article>
  
  </main>
  <footer>

  </footer>
</body>
<script>
  if(localStorage.getItem('api_data')!=null){
newResult=localStorage.getItem('api_data').toString();
console.log(newResult);
    document.getElementById("result").innerText=localStorage.getItem('api_data').toString();
  
let finalResult= JSON.parse(localStorage.getItem('api_data'));
console.log(typeof finalResult)

 Object.entries(finalResult).forEach(([key,value])=>{
  //  console.log(typeof key+" "+typeof value)
  //  console.log(`${key} ${value}`)

  // console.log(typeof finalResult);

  if(key==="items"){

    Object.entries(value).forEach(([key1,value1])=>{
  //  console.log(`${key1} ${value1}`)
  console.log( value)
        Object.entries(value1).forEach(([key2,value2])=>{
         console.log(value2)
          // if(value2==="items"){
          //   console.log(value2)
          // }
        })

    })
  }
 });
  // let videoId=items.id.videoId;
  // let videoDesc=items.snippet.title;`
  // video = `
  // <iframe width="560" height="315" 
  // src="https://www.youtube.com/embed/`+videoId+` 
  // title=`+videoDesc+` 
  // frameborder="0" allow="accelerometer;
  //  autoplay; clipboard-write; encrypted-media;
  //   gyroscope; picture-in-picture" allowfullscreen>
  //   </iframe>
  // `
  // console.log(videoId+" "+videoDesc+" "+video);
}

  
 
   setInterval(() => {
    let value =document.getElementById("header");

    if(flag==1){
      document.getElementById("result").innerText=localStorage.getItem('api_data').toString();
      flag=0;
    }
    
    let lights=["🔴","🟡","🟢"];
    value.innerText=lights[Math.floor(Math.random()*3)]
     document.title  ="Play " +lights[Math.floor(Math.random()*3)]
    
    }, 300);

  </script>
</html>